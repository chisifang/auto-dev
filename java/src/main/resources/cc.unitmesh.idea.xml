<idea-plugin package="cc.unitmesh.idea">
    <!--suppress PluginXmlValidity -->
    <dependencies>
        <plugin id="com.intellij.modules.java"/>
        <plugin id="org.jetbrains.plugins.gradle"/>
    </dependencies>

    <extensions defaultExtensionNs="cc.unitmesh">
        <classContextBuilderNew language="JAVA"
                             implementationClass="cc.unitmesh.idea.context.JavaClassContextBuilder"/>

        <methodContextBuilderNew language="JAVA"
                              implementationClass="cc.unitmesh.idea.context.JavaMethodContextBuilder"/>

        <fileContextBuilderNew language="JAVA"
                            implementationClass="cc.unitmesh.idea.context.JavaFileContextBuilder"/>

        <variableContextBuilderNew language="JAVA"
                                implementationClass="cc.unitmesh.idea.context.JavaVariableContextBuilder"/>

        <codeModifierNew language="JAVA"
                      implementationClass="cc.unitmesh.idea.context.JavaCodeModifier"/>
        <livingDocumentationNew language="JAVA"
                             implementationClass="cc.unitmesh.idea.provider.JavaLivingDocumentation"/>

        <chatContextProviderNew implementation="cc.unitmesh.idea.provider.JavaVersionProvider"/>
        <chatContextProviderNew implementation="cc.unitmesh.idea.provider.SpringContextProvider"/>
        <chatContextProviderNew implementation="cc.unitmesh.idea.provider.JavaTestContextProvider"/>

        <contextPrompterNew
                language="JAVA"
                implementation="cc.unitmesh.idea.promting.JavaContextPrompter"/>
        <devFlowProviderNew
                language="JAVA"
                implementation="cc.unitmesh.idea.flow.JvmAutoDevFlow"/>
        <promptStrategyNew
                language="JAVA"
                implementation="cc.unitmesh.idea.promting.JvmPromptStrategy"/>

        <testContextProviderNew
                language="JAVA"
                implementation="cc.unitmesh.idea.service.JavaWriteTestService"/>

        <autoDevIntentionNew>
            <className>cc.unitmesh.idea.actions.AutoCrudAction</className>
            <bundleName>messages.AutoDevBundle</bundleName>
            <categoryKey>intention.category.llm</categoryKey>
        </autoDevIntentionNew>
    </extensions>

    <extensions defaultExtensionNs="com.intellij">
        <runLineMarkerContributor language="JAVA"
                                  implementationClass="cc.unitmesh.idea.contributor.AutoDevFeatureMarkerContributor"/>

    </extensions>
</idea-plugin>
